var paperPlaneLazyLoad=new LazyLoad({elements_selector:".lazy",class_loading:"lazy-loading",class_loaded:"lazy-loaded",callback_reveal:function(a){a.complete&&0!==a.naturalWidth&&(a.classList.remove("lazy-loading"),a.classList.add("lazy-loaded"))}}),swup=new Swup({containers:[".swupped"],animateHistoryBrowsing:!0,plugins:[new SwupHeadPlugin,new SwupGaPlugin,new SwupPreloadPlugin],cache:!0,skipPopStateHandling:function(a){return!(a.state&&"swup"===a.state.source)}});init();
swup.on("contentReplaced",init);swup.on("willReplaceContent",unload);swup.on("animationInStart",animationIn);function init(){paperPlaneLazyLoad.update();refreshPrevNext();approveDelight();wrapPostMedia();blockArrowKeys=!0}function unload(){window.scrollTo(0,0);blockArrowKeys=!1}function animationIn(){closeOverlay()}document.addEventListener("swup:contentReplaced",function(a){initInfiniteScroll();$("div.wpcf7 > form").length&&(a=$("div.wpcf7 > form"),wpcf7.initForm(a),wpcf7.cached&&wpcf7.refill(a))});
function initInfiniteScroll(){jQuery(".nav-next a")[0]&&(jQuery(".grid-infinite").infiniteScroll({path:".nav-next a",append:".grid-item-infinite",status:"#infscr-loading",history:!1}),jQuery(".grid-infinite").on("append.infiniteScroll",function(a,b,c,d){paperPlaneLazyLoad.update()}),window.setInterval(function(){jQuery(".infinite-scroll-last").is(":visible")&&jQuery("#infscr-loading").fadeOut(300)},2E3))}initInfiniteScroll();
function handleOverlay(){$(".hambuger-element").toggleClass("open");$(".hambuger-element").hasClass("open")?($("#header-overlay").focus(),$("#head-overlay").removeClass("blurred"),$(this).attr("aria-expanded",!0)):($("#header").focus(),$("#head-overlay").addClass("blurred"),$(this).attr("aria-expanded",!1));$("#head-overlay").toggleClass("overlay-in");$("#search-box").fadeOut(300)}
function closeOverlay(){$(".hambuger-element").removeClass("open");$("#header").focus();$(this).attr("aria-expanded",!1);$("#head-overlay").removeClass("overlay-in")}function hideNavi(){$("body").toggleClass("delighted")}function approveDelight(){$("#delight-approved").length||$("body").removeClass("delighted")}function setBrightness(){$("body").hasClass("clear-theme")?$("body").removeClass("clear-theme").addClass("dark-theme"):$("body").removeClass("dark-theme").addClass("clear-theme")}
function wrapPostMedia(){$(".content-styled iframe").wrap('<div class="video_frame"></div>');$("img.alignnone").closest(".wp-caption").length||$("img.alignnone").wrap('<div class="wp-caption alignnone"></div>');$("img.aligncenter").closest(".wp-caption").length||$("img.aligncenter").wrap('<div class="wp-caption aligncenter"></div>');$("img.alignleft")&&$("img.alignleft").wrap('<div class="wp-caption alignleft"></div>');$("img.alignright")&&$("img.alignright").wrap('<div class="wp-caption alignright"></div>')}
function refreshPrevNext(){prevLink=$(".navi-click-left a").attr("href");nextLink=$(".navi-click-right a").attr("href")}function nextNaviAction(){"undefined"!=typeof nextLink&&1==blockArrowKeys&&(nextLinkData=swup.cache.getPage(nextLink),swup.loadPage({url:nextLink,method:"GET",data:nextLinkData}))}function prevNaviAction(){"undefined"!=typeof prevLink&&1==blockArrowKeys&&(prevLinkData=swup.cache.getPage(prevLink),swup.loadPage({url:prevLink,method:"GET",data:prevLinkData}))}
$(document).on("click",".highlight:not(.initialized)",function(a){hideNavi()});$(document).on("click",".bright-switch a:not(.initialized)",function(a){setBrightness()});$(".ham-activator").click(function(){handleOverlay()});$(document).on("click",".thumb-list:not(.initialized)",function(a){$(".thumbs-gallery").slideToggle(300);paperPlaneLazyLoad.update()});$(document).on("swipeleft",".absl_swipe:not(.initialized)",function(a){nextNaviAction()});
$(document).on("swiperight",".absl_swipe:not(.initialized)",function(a){prevNaviAction()});$(document).on("touchstart",".absl_swipe:not(.initialized)",function(a){$(".absl_swipe").addClass("swipe-info")});$(document).on("touchend",".absl_swipe:not(.initialized)",function(a){$(".absl_swipe").removeClass("swipe-info")});$(document).keydown(function(a){switch(a.which){case 37:prevNaviAction();break;case 39:nextNaviAction();break;default:return}a.preventDefault()});
